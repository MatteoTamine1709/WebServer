==29856== Memcheck, a memory error detector
==29856== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==29856== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==29856== Command: ./build/WebServer
==29856== 
[2023-07-09 23:47:17.708] [Logger] [warning] [Config.cpp:61] Waiting for hot reloader to connect...
[2023-07-09 23:47:17.894] [Logger] [info] [TcpServer.h:133] Registering middleware jsonParserMiddleware for routes /* at 0x5016b30
[2023-07-09 23:47:18.003] [Logger] [info] [TcpServer.h:133] Registering middleware multipartFormDataParserMiddleware for routes /* at 0x501a6e0
[2023-07-09 23:47:18.016] [Logger] [info] [TcpServer.cpp:95] Server started
[2023-07-09 23:47:18.018] [Logger] [info] [utils.cpp:144] Initializing mime map
[2023-07-09 23:47:24.734] [Logger] [info] [TcpServer.cpp:100] Server stopped
==29856== Invalid read of size 4
==29856==    at 0x2863A4: load (atomic_base.h:481)
==29856==    by 0x2863A4: spdlog::logger::should_log(spdlog::level::level_enum) const (logger.h:268)
==29856==    by 0x2DC684: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:323)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006df0 is 80 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 1
==29856==    at 0x489F944: spdlog::details::backtracer::enabled() const (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC69D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:324)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006e40 is 160 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x4BA2D94: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::data() const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==29856==    by 0x286902: fmt::v8::basic_string_view<char>::basic_string_view<std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (core.h:483)
==29856==    by 0x2DC7D1: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:333)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006db8 is 24 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x4BA1414: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::size() const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==29856==    by 0x28690D: fmt::v8::basic_string_view<char>::basic_string_view<std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (core.h:484)
==29856==    by 0x2DC7D1: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:333)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006dc0 is 32 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A1BE4: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006db0 is 16 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A1626: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006de0 is 64 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A162A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006dd8 is 56 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A1653: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006ec0 is 0 bytes inside a block of size 32 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A7810: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2B804B: __gnu_cxx::new_allocator<std::shared_ptr<spdlog::sinks::sink> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2B3CA8: std::allocator_traits<std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::allocate(std::allocator<std::shared_ptr<spdlog::sinks::sink> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2B0745: std::_Vector_base<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::_M_allocate(unsigned long) (stl_vector.h:346)
==29856==    by 0x2BF856: void std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::_M_range_initialize<__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, std::forward_iterator_tag) (stl_vector.h:1582)
==29856==    by 0x2BF147: std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::vector<__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, void>(__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, std::allocator<std::shared_ptr<spdlog::sinks::sink> > const&) (stl_vector.h:657)
==29856==    by 0x2BE865: spdlog::logger::logger<__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >) (logger.h:60)
==29856==    by 0x2BDA2D: void __gnu_cxx::new_allocator<spdlog::logger>::construct<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (new_allocator.h:162)
==29856==    by 0x2BC723: void std::allocator_traits<std::allocator<spdlog::logger> >::construct<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger>&, spdlog::logger*, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (alloc_traits.h:516)
==29856==    by 0x2BA888: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:519)
==29856==    by 0x2B7B6D: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:650)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856== 
==29856== Invalid read of size 4
==29856==    at 0x48A1604: spdlog::sinks::sink::should_log(spdlog::level::level_enum) const (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A165A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5002c98 is 24 bytes inside a block of size 720 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD58D: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC380: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA151: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C09CF: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48A77F6: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD546: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC314: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA0F9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B75E5: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:648)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856==    by 0x2A55C6: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:122)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A165F: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5006ec0 is 0 bytes inside a block of size 32 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A7810: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2B804B: __gnu_cxx::new_allocator<std::shared_ptr<spdlog::sinks::sink> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2B3CA8: std::allocator_traits<std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::allocate(std::allocator<std::shared_ptr<spdlog::sinks::sink> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2B0745: std::_Vector_base<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::_M_allocate(unsigned long) (stl_vector.h:346)
==29856==    by 0x2BF856: void std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::_M_range_initialize<__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, std::forward_iterator_tag) (stl_vector.h:1582)
==29856==    by 0x2BF147: std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > >::vector<__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, void>(__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, std::allocator<std::shared_ptr<spdlog::sinks::sink> > const&) (stl_vector.h:657)
==29856==    by 0x2BE865: spdlog::logger::logger<__gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >) (logger.h:60)
==29856==    by 0x2BDA2D: void __gnu_cxx::new_allocator<spdlog::logger>::construct<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (new_allocator.h:162)
==29856==    by 0x2BC723: void std::allocator_traits<std::allocator<spdlog::logger> >::construct<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger>&, spdlog::logger*, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (alloc_traits.h:516)
==29856==    by 0x2BA888: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:519)
==29856==    by 0x2B7B6D: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:650)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A1665: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5002c90 is 16 bytes inside a block of size 720 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD58D: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC380: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA151: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C09CF: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48A77F6: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD546: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC314: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA0F9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B75E5: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:648)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856==    by 0x2A55C6: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:122)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48C4840: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5002e68 is 488 bytes inside a block of size 720 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD58D: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC380: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA151: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C09CF: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48A77F6: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD546: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC314: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA0F9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B75E5: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:648)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856==    by 0x2A55C6: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:122)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48C4880: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5002f90 is 0 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A193A: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5003018 is 136 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A1984: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5003028 is 152 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A198B: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5003020 is 144 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A19A0: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5003230 is 0 bytes inside a block of size 8 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A889C: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD20E: void std::vector<std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> >, std::allocator<std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> > > >::_M_realloc_insert<std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> >*, std::vector<std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> >, std::allocator<std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> > > > >, std::unique_ptr<spdlog::details::flag_formatter, std::default_delete<spdlog::details::flag_formatter> >&&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A26FD: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A19B0: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x50030b0 is 0 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48BDB76: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Address 0x50030c8 is 24 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48BDB7C: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Address 0x50030e0 is 48 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48BE03A: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Address 0x50030d8 is 40 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x485298D: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A8B5B: void fmt::v8::detail::buffer<char>::append<char>(char const*, char const*) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48BE048: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==  Address 0x50030f0 is 64 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 2
==29856==    at 0x48529E0: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A8B5B: void fmt::v8::detail::buffer<char>::append<char>(char const*, char const*) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48BE048: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==  Address 0x5003100 is 80 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 1
==29856==    at 0x4852A10: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A8B5B: void fmt::v8::detail::buffer<char>::append<char>(char const*, char const*) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48BE048: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==  Address 0x5003104 is 84 bytes inside a block of size 320 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A887E: spdlog::pattern_formatter::~pattern_formatter() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A264C: spdlog::pattern_formatter::pattern_formatter(spdlog::pattern_time_type, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48AD2E9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856== 
==29856== Invalid read of size 1
==29856==    at 0x4852A10: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A8B5B: void fmt::v8::detail::buffer<char>::append<char>(char const*, char const*) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48BE4A8: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==  Address 0x5006dc8 is 40 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 1
==29856==    at 0x4852A1D: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A8B5B: void fmt::v8::detail::buffer<char>::append<char>(char const*, char const*) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48BE4A8: spdlog::details::full_formatter::format(spdlog::details::log_msg const&, tm const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A19B5: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==  Address 0x5006dca is 42 bytes inside a block of size 224 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD933: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC66A: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA723: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C067F: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48ACE88: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD8E1: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC5FE: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA6CB: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B7ADD: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(spdlog::logger*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:648)
==29856==    by 0x2B39EB: std::__shared_ptr<spdlog::logger, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr_base.h:1342)
==29856==    by 0x2B03EE: std::shared_ptr<spdlog::logger>::shared_ptr<std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::_Sp_alloc_shared_tag<std::allocator<spdlog::logger> >, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:409)
==29856==    by 0x2AD390: std::shared_ptr<spdlog::logger> std::allocate_shared<spdlog::logger, std::allocator<spdlog::logger>, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(std::allocator<spdlog::logger> const&, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:863)
==29856==    by 0x2A9C44: std::shared_ptr<spdlog::logger> std::make_shared<spdlog::logger, char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > > >(char const (&) [7], __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&, __gnu_cxx::__normal_iterator<std::shared_ptr<spdlog::sinks::sink>*, std::vector<std::shared_ptr<spdlog::sinks::sink>, std::allocator<std::shared_ptr<spdlog::sinks::sink> > > >&&) (shared_ptr.h:879)
==29856==    by 0x2A598B: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:138)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A19BB: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5002fb8 is 40 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48A19CF: spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> >&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5002fc0 is 48 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 1
==29856==    at 0x4852A10: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48A8B5B: void fmt::v8::detail::buffer<char>::append<char>(char const*, char const*) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C489C: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Address 0x5002fc8 is 56 bytes inside a block of size 224 free'd
==29856==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2C1278: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:168)
==29856==    by 0x2C0F44: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::destroy<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:535)
==29856==    by 0x2C0958: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48A77CF: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x48AD2D9: std::unique_ptr<spdlog::pattern_formatter, std::default_delete<spdlog::pattern_formatter> > spdlog::details::make_unique<spdlog::pattern_formatter>() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C6015: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::ansicolor_sink(_IO_FILE*, spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C69E8: spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>::ansicolor_stdout_sink(spdlog::color_mode) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2BD5F3: void __gnu_cxx::new_allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (new_allocator.h:162)
==29856==    by 0x2BC3FA: void std::allocator_traits<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >::construct<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >&, spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*) (alloc_traits.h:516)
==29856==    by 0x2BA273: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_Sp_counted_ptr_inplace<>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >) (shared_ptr_base.h:519)
==29856==    by 0x2B762B: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:650)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856== 
==29856== Invalid read of size 1
==29856==    at 0x48C489D: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5002e60 is 480 bytes inside a block of size 720 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD58D: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC380: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA151: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C09CF: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48A77F6: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD546: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC314: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA0F9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B75E5: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:648)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856==    by 0x2A55C6: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:122)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48C4801: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::print_range_(fmt::v8::basic_memory_buffer<char, 250ul, std::allocator<char> > const&, unsigned long, unsigned long) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48C48C1: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==  Address 0x5002e50 is 464 bytes inside a block of size 720 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD58D: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC380: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA151: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C09CF: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48A77F6: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD546: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC314: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA0F9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B75E5: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:648)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856==    by 0x2A55C6: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:122)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
==29856== Invalid read of size 8
==29856==    at 0x48C48C2: spdlog::sinks::ansicolor_sink<spdlog::details::console_nullmutex>::log(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856==    by 0x2E79D2: TcpServer::~TcpServer() (TcpServer.cpp:87)
==29856==    by 0x2EEC87: std::default_delete<TcpServer>::operator()(TcpServer*) const (unique_ptr.h:85)
==29856==    by 0x2ED61F: std::unique_ptr<TcpServer, std::default_delete<TcpServer> >::~unique_ptr() (unique_ptr.h:361)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==    by 0x4DCD60F: exit (exit.c:143)
==29856==    by 0x4DB1D96: (below main) (libc_start_call_main.h:74)
==29856==  Address 0x5002e50 is 464 bytes inside a block of size 720 free'd
==29856==    at 0x484BB6F: operator delete(void*, unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD58D: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::deallocate(std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (new_allocator.h:145)
==29856==    by 0x2BC380: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::deallocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>*, unsigned long) (alloc_traits.h:496)
==29856==    by 0x2BA151: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::~__allocated_ptr() (allocated_ptr.h:74)
==29856==    by 0x2C09CF: std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2>::_M_destroy() (shared_ptr_base.h:538)
==29856==    by 0x48A77F6: spdlog::logger::~logger() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2C1206: void __gnu_cxx::new_allocator<spdlog::logger>::destroy<spdlog::logger>(spdlog::logger*) (new_allocator.h:168)
==29856==    by 0x2C0EB4: void std::allocator_traits<std::allocator<spdlog::logger> >::destroy<spdlog::logger>(std::allocator<spdlog::logger>&, spdlog::logger*) (alloc_traits.h:535)
==29856==    by 0x2C0608: std::_Sp_counted_ptr_inplace<spdlog::logger, std::allocator<spdlog::logger>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() (shared_ptr_base.h:528)
==29856==    by 0x48ACE66: std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<spdlog::logger> > >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::clear() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A2251: spdlog::details::registry::~registry() (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x4DCD494: __run_exit_handlers (exit.c:113)
==29856==  Block was alloc'd at
==29856==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==29856==    by 0x2BD546: __gnu_cxx::new_allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >::allocate(unsigned long, void const*) (new_allocator.h:127)
==29856==    by 0x2BC314: std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >::allocate(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&, unsigned long) (alloc_traits.h:464)
==29856==    by 0x2BA0F9: std::__allocated_ptr<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > > std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> > >(std::allocator<std::_Sp_counted_ptr_inplace<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >, (__gnu_cxx::_Lock_policy)2> >&) (allocated_ptr.h:98)
==29856==    by 0x2B75E5: std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>*&, std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:648)
==29856==    by 0x2B37ED: std::__shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr_base.h:1342)
==29856==    by 0x2B022C: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >::shared_ptr<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::_Sp_alloc_shared_tag<std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > >) (shared_ptr.h:409)
==29856==    by 0x2AD021: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::allocate_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>, std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> >>(std::allocator<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > const&) (shared_ptr.h:863)
==29856==    by 0x2A9907: std::shared_ptr<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex> > std::make_shared<spdlog::sinks::ansicolor_stdout_sink<spdlog::details::console_nullmutex>>() (shared_ptr.h:879)
==29856==    by 0x2A55C6: TcpServer::handleLogConfig(nlohmann::basic_json<std::map, std::vector, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, bool, long, unsigned long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char> > >&) (Config.cpp:122)
==29856==    by 0x2E6DFB: TcpServer::TcpServer() (TcpServer.cpp:39)
==29856==    by 0x2E64CC: TcpServer::getInstance() (TcpServer.cpp:28)
==29856== 
[2023-07-09 23:47:24.766] [Logger] [info] [TcpServer.h:142] Closing middleware multipartFormDataParserMiddleware, 0x501a6e0
pure virtual method called
terminate called without an active exception
==29856== 
==29856== Process terminating with default action of signal 6 (SIGABRT)
==29856==    at 0x4E1EA7C: __pthread_kill_implementation (pthread_kill.c:44)
==29856==    by 0x4E1EA7C: __pthread_kill_internal (pthread_kill.c:78)
==29856==    by 0x4E1EA7C: pthread_kill@@GLIBC_2.34 (pthread_kill.c:89)
==29856==    by 0x4DCA475: raise (raise.c:26)
==29856==    by 0x4DB07F2: abort (abort.c:79)
==29856==    by 0x4AF7BBD: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==29856==    by 0x4B0324B: ??? (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==29856==    by 0x4B032B6: std::terminate() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==29856==    by 0x4B03FE4: __cxa_pure_virtual (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==29856==    by 0x48A166A: spdlog::logger::sink_it_(spdlog::details::log_msg const&) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x48A1BE9: spdlog::logger::log_it_(spdlog::details::log_msg const&, bool, bool) (in /usr/lib/x86_64-linux-gnu/libspdlog.so.1.9.2)
==29856==    by 0x2DC83D: void spdlog::logger::log_<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_string_view<char>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:334)
==29856==    by 0x2DB334: void spdlog::logger::log<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&>(spdlog::source_loc, spdlog::level::level_enum, fmt::v8::basic_format_string<char, fmt::v8::type_identity<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&>::type, fmt::v8::type_identity<void*&>::type>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, void*&) (logger.h:83)
==29856==    by 0x2DAE2A: TcpServer::MiddlewareInfo_s::close() (TcpServer.h:142)
==29856== 
==29856== HEAP SUMMARY:
==29856==     in use at exit: 96,004 bytes in 72 blocks
==29856==   total heap usage: 8,673 allocs, 8,601 frees, 85,910,575 bytes allocated
==29856== 
==29856== LEAK SUMMARY:
==29856==    definitely lost: 0 bytes in 0 blocks
==29856==    indirectly lost: 0 bytes in 0 blocks
==29856==      possibly lost: 5,888 bytes in 6 blocks
==29856==    still reachable: 90,116 bytes in 66 blocks
==29856==         suppressed: 0 bytes in 0 blocks
==29856== Rerun with --leak-check=full to see details of leaked memory
==29856== 
==29856== For lists of detected and suppressed errors, rerun with: -s
==29856== ERROR SUMMARY: 42 errors from 32 contexts (suppressed: 0 from 0)
